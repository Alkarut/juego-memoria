<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TECNO BOT - Limpieza Realista</title>

<style>
body{
    margin:0;
    text-align:center;
    background:linear-gradient(#cce6ff,#3399ff);
    font-family:Arial;
}
canvas{
    display:none;
    background:#d9d9d9;
    border:6px solid #003366;
    border-radius:20px;
    margin-top:20px;
}
button{
    padding:15px 30px;
    font-size:18px;
    background:#003366;
    color:white;
    border:none;
    border-radius:10px;
}
#menu{
    margin-top:100px;
}
</style>
</head>
<body>

<div id="menu">
    <h1>üñ•Ô∏è TECNO BOT</h1>
    <h2>Limpieza Segura de Computadora ‚ö°</h2>
    <button onclick="startGame()">üéÆ Jugar</button>
</div>

<canvas id="game" width="400" height="550"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const menu = document.getElementById("menu");

let sponge = {x:180,y:470,size:50};
let dirt = [];
let wires = [
    {x:60,y:230,width:280,height:12},
    {x:60,y:340,width:280,height:12}
];
let sparks = [];
let lives = 3;
let gameOver = false;
let win = false;

// Crear polvo realista
for(let i=0;i<15;i++){
    dirt.push({
        x:Math.random()*240+80,
        y:Math.random()*260+120,
        size:20
    });
}

function startGame(){
    menu.style.display="none";
    canvas.style.display="block";
}

// Mouse
canvas.addEventListener("mousemove",e=>{
    sponge.x = e.offsetX - 25;
    sponge.y = e.offsetY - 25;
});

// Touch
canvas.addEventListener("touchmove",e=>{
    const rect = canvas.getBoundingClientRect();
    sponge.x = e.touches[0].clientX - rect.left - 25;
    sponge.y = e.touches[0].clientY - rect.top - 25;
});

function drawComputer(){
    // Torre
    ctx.fillStyle="#555";
    ctx.fillRect(60,80,280,420);

    // Pantalla
    ctx.fillStyle="#111";
    ctx.fillRect(100,110,200,120);

    ctx.fillStyle="#00ffcc";
    ctx.font="18px Arial";
    ctx.fillText("Sistema Activo",120,170);
}

function drawDirt(){
    ctx.fillStyle="#777";
    dirt.forEach((d,i)=>{
        ctx.beginPath();
        ctx.arc(d.x,d.y,d.size,0,Math.PI*2);
        ctx.fill();

        if(
            sponge.x < d.x+d.size &&
            sponge.x+sponge.size > d.x-d.size &&
            sponge.y < d.y+d.size &&
            sponge.y+sponge.size > d.y-d.size
        ){
            dirt.splice(i,1);
        }
    });
}

function drawWires(){
    ctx.fillStyle="red";
    wires.forEach(w=>{
        ctx.fillRect(w.x,w.y,w.width,w.height);

        if(
            sponge.x < w.x+w.width &&
            sponge.x+sponge.size > w.x &&
            sponge.y < w.y+w.height &&
            sponge.y+sponge.size > w.y
        ){
            createSparks(sponge.x+20,sponge.y+20);
            lives--;
            sponge.x=180;
            sponge.y=470;
        }
    });
}

function createSparks(x,y){
    for(let i=0;i<8;i++){
        sparks.push({
            x:x,
            y:y,
            dx:(Math.random()-0.5)*6,
            dy:(Math.random()-0.5)*6,
            life:20
        });
    }
}

function drawSparks(){
    ctx.fillStyle="yellow";
    sparks.forEach((s,i)=>{
        ctx.beginPath();
        ctx.arc(s.x,s.y,4,0,Math.PI*2);
        ctx.fill();
        s.x+=s.dx;
        s.y+=s.dy;
        s.life--;

        if(s.life<=0){
            sparks.splice(i,1);
        }
    });
}

function drawSponge(){
    ctx.fillStyle="#ffcc00";
    ctx.fillRect(sponge.x,sponge.y,sponge.size,sponge.size);

    // textura
    ctx.fillStyle="#ffaa00";
    ctx.fillRect(sponge.x+10,sponge.y+10,20,20);
}

function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    drawComputer();
    drawDirt();
    drawWires();
    drawSponge();
    drawSparks();

    ctx.fillStyle="black";
    ctx.font="18px Arial";
    ctx.fillText("Vidas: "+lives,10,25);

    if(lives<=0){
        gameOver=true;
    }

    if(dirt.length==0){
        win=true;
    }

    if(gameOver){
        ctx.fillStyle="red";
        ctx.font="30px Arial";
        ctx.fillText("‚ö° TE ELECTROCUTASTE",40,300);
    }

    if(win){
        ctx.fillStyle="green";
        ctx.font="28px Arial";
        ctx.fillText("üßΩ COMPUTADORA LIMPIA",30,300);
    }
}

setInterval(draw,30);
</script>

</body>
</html>
